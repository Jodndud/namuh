#### ğŸ’ª **Keep (ê³„ì†í•  ì )**
- í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ë°±ì—”ë“œ ê¸°ëŠ¥ì„ ëª¨ë‘ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.
- í”„ë¡œì íŠ¸ê°€ ì™„ì„±ë¨ì— ìˆì–´ì„œ í•„ìš”í•œ ê¸°ëŠ¥(ë°±ì—”ë“œ í¬í•¨)ì´ ìˆìœ¼ë©´ ê³„ì† ì™„ì„±ì„ ìœ„í•´ ë•ê² ìŠµë‹ˆë‹¤.

#### ğŸ˜­ **Problem (ë¬¸ì œì )**
- ê°ìê°€ ì–´ë–¤ ì—…ë¬´ë¥¼ í•˜ëŠ” ì§€ ì˜¤ì „ì—ë§Œ ì•Œ ìˆ˜ ìˆê³  ì˜¤í›„ì—ëŠ” ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤. ì†Œí†µì´ í•„ìš”í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤?

#### ğŸ¤™ **Try (ìƒˆë¡œìš´ ì‹œë„)**
- ë°”ì˜ë©´ ë§ì„¤ì´ì§€ë§ê³  ë„ì›€ìš”ì²­í•˜ê¸°!

### ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš© 
#### 1. mqtt ë©”ì‹œì§€ ë‘ë²ˆë³´ë‚´ì•¼ í–ˆë˜ ì´ìœ 
```
@Bean
public MessageChannel mqttInputChannel() {
    return new DirectChannel();
}
```
`@ServiceActivator`ê°€ `MqttConfig`ì™€ `RobotService`ì— ë‘ê°œê°€ ìˆì—ˆìŒ

í•œ ë²ˆ ìš”ì²­ -> `MqttConfig`ì˜ ì–´ë…¸í…Œì´ì…˜ ì ìš©
ë‘ ë²ˆ ìš”ì²­ -> `RobotService`ì˜ ì–´ë…¸í…Œì´ì…˜ ì ìš©

#### 2. [MQTT ë°œì‹ ì]
1. mqtt ë°œì‹ ìì„¤ì •
(ì±„ë„ê³¼ í•¸ë“¤ëŸ¬ë¥¼ ì„¤ì •, ë©”ì„œë“œ ëª… ë‹¤ë¥´ê²Œ)
```
@Bean(name = "mqttOutboundChannel")
    public MessageChannel mqttOutputChannel() {
        return new DirectChannel();
    }
@Bean
@ServiceActivator(inputChannel = "mqttOutboundChannel")
public MessageHandler mqttOutboundHandler() {
}
```

2. ë©”ì‹œì§€ ë°œí–‰ í›„ sendë©”ì„œë“œë¡œ ë°œì‹ 
```
var message = MessageBuilder.withPayload(payload)
                    .setHeader(MqttHeaders.TOPIC, DEFAULT_TOPIC)
                    .build();
mqttOutboundChannel.send(message); 
```

#### 3. [ìŠ¤ì¼€ì¥´ëŸ¬]
1. Configìƒì„±
```
package com.buriburi.oily.global.config;

import org.springframework.context.annotation.Configuration;
import org.springframework.scheduling.annotation.EnableScheduling;

@Configuration
@EnableScheduling
public class SchedulingConfig {
}
```

2. `@Scheduled` ì–´ë…¸í…Œì´ì…˜ ì¶”ê°€ (ì—¬ê¸°ê°€ controller ì—­í• )
ì„¤ì •í•œ ì‹œê°„ì´ ë˜ë©´ ìë™ ë©”ì„œë“œí˜¸ì¶œ
```
@Scheduled(cron = "0 0 8 * * *", zone = "Asia/Seoul") // cron ì´ˆ ë¶„ ì‹œ... *:ë§¤ì¼
public void scheduleGoodMorning() {
    robotCommandPublisher.publishAndSync("good_morning", "all");
}
```

3. serviceì—ì„œ í˜¸ì¶œ ì‹œ ë©”ì„œë“œ
ë©”ì‹œì§€ ë°œí–‰ ë™ì‹œì— ìƒíƒœë³€ê²½(ì´ê²ƒì€ ë¡œë´‡ ë™ì‘ì‹œ ë³€ê²½í•´ì•¼í•˜ë¯€ë¡œ ì‚­ì œ)

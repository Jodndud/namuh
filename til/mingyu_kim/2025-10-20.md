# 2025ë…„ 10ì›” 20ì¼ TIL

## KPT

#### ğŸ’ª **Keep (ê³„ì†í•  ì )**

- ì§„í–‰ì¤‘ì¸ í”„ë¡œì íŠ¸ì— ëŒ€í•´ì„œ ë³¸ì¸ì˜ ìƒê°ì„ ë§í•´ì¤˜ì„œ ì¢‹ë‹¤.

#### ğŸ˜­ **Problem (ë¬¸ì œì )**

- í”„ë¡œì íŠ¸ì˜ ê°œë°œ ê·¼ë³¸ì´ ê³„ì† ë°”ë€Œì–´ì„œ í™•ì‹¤íˆ ì •í•˜ì—¬ ë¬¸ì„œí™”ì‹œì¼œì•¼í•œë‹¤ê³  ìƒê°í•œë‹¤.

#### ğŸ¤™ **Try (ìƒˆë¡œìš´ ì‹œë„)**

[Github arduino-dw1000-ng](https://github.com/F-Army/arduino-dw1000-ng)ì˜ 3ê°œì˜ ì•µì»¤ë¥¼ ì´ìš©í•œ 2ì°¨ì› TDOA ì½”ë“œë¥¼ ì°¸ê³ í•˜ì—¬ ì•µì»¤ë¥¼ Zì¶• ìœ„ì¹˜ê°€ ë‹¤ë¥¸ ì•µì»¤ë¥¼ ì¶”ê°€í•˜ì—¬ 3ì°¨ì› TDOAë¡œ XYZ ì¢Œí‘œë¥¼ êµ¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì—°êµ¬

---

##### ì½”ë“œ ë³€ê²½

- ê¸°ì¡´ ì½”ë“œ 2D

```ino
typedef struct Position {
    double x;
    double y;
} Position;

Position position_self = {0,0};
Position position_B = {3,0};
Position position_C = {3,2.5};

double range_self;
double range_B;
double range_C;

boolean received_B = false;

```

- ë³€ê²½ëœ ì½”ë“œë¡œ 3Dë¥¼ ìœ„í•œ ê°’ ì¶”ê°€

```ino
// 3D ì¢Œí‘œ
typedef struct Position3D {
    double x;
    double y;
    double z;
} Position3D;

// ì‹¤ì œ ì„¤ì¹˜ê°’ìœ¼ë¡œ (ë‹¨ìœ„: m). ìµœì†Œ 1ê°œëŠ” ë‹¤ë¥¸ z
Position3D position_self = {0.0, 0.0, 2.00};   // Anchor A(=Main)
Position3D position_B    = {3.0, 0.0, 2.00};   // Anchor B
Position3D position_C    = {3.0, 2.5, 2.00};   // Anchor C
Position3D position_D    = {0.0, 2.5, 3.50};   // Anchor D (zë¥¼ ë‹¤ë¥´ê²Œ!)

double range_self;
double range_B;
double range_C;
double range_D;

bool received_B = false;
bool received_C = false;
bool received_D = false;

// (ê¸°ì¡´ì— ì—†ìœ¼ë©´ ì¶”ê°€) ìŠ¬ë ˆì´ë¸Œ ì•µì»¤ì˜ Short Address
byte anchor_b[2] = {0x02, 0x00};
byte anchor_c[2] = {0x03, 0x00};
byte anchor_d[2] = {0x04, 0x00};   // ì‹ ê·œ D ì• ì»¤
```

---

- +3D ìœ„ì¹˜ê³„ì‚° í•¨ìˆ˜ ì¶”ê°€
- +ìƒˆë¡œìš´ ì•µì»¤ Dì½”ë“œ StandardRTLSAnchorD_TWR.ino

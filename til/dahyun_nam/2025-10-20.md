#### 💪 **Keep (계속할 점)**

- 모든 팀원이 프로젝트에 적극적으로 참여하고 있다고 생각합니다.

#### 😭 **Problem (문제점)**

- 아직 기획의 구체성이 부족하다고 생각됩니다.
	- 프로젝트의 핵심이 아이의 창의력 향상인지, 인형놀이인지, 영상 생성인지 불분명한 것 같습니다.
	- 또한, 사용할 기술, 교구의 구성과 같은 구현 전략이 불명확한 것 같습니다.

#### 🤙 **Try (새로운 시도)**

- 서비스의 결과물인 영상을 시범적으로 생성해볼 것을 제안합니다.
	- 생성 과정에서 보완이 필요한 부분을 보다 명확히 파악할 수 있을 것으로 기대됩니다.

---

# idle

사용자가 지도를 확대 또는 축소할 때 화면이 끊기는 현상을 해결하는 과정에서
브라우저의 동작 원리와 효율적인 코드 실행의 중요성을 이해할 수 있었다.

## 1. 컴퓨터는 한 번에 한 가지 일만 한다.
자바스크립트를 실행하는 메인 스레드는 한 번에 하나의 작업만 처리할 수 있다.
메인 스레드가 계산원이라고 할 때,
어떤 고객이 오래 걸리는 계산을 요청하면 계산원은 그 일이 끝날 때까지 다른 손님을 받을 수 없다.
그 결과, 뒷 고객은 줄줄이 대기하게 되고
흔히 말하는 '렉 걸림'이나 '버벅임'이 발생한다.

## 2. [문제] zoom_changed 이벤트의 오남용

```
kakao.maps.event.addListener(map, 'zoom_changed', () => {
  clearAllLabels();  // 라벨 수백 개 제거
  drawAllLabels();   // 라벨 수백 개 렌더링
});
```

즉, 줌 레벨이 변경되는 과정에서 매우 무거운 렌더링 작업이 수 차례 실행될 수 있다.
이는 계산원이 계산 중에 계속 창고를 들락날락하는 것과 같다.


## 3. idle
idle 이벤트는 '언제, 몇 번 그릴 것인가'를 결정하는 역할

### [1단계] 애니메이션 중 버벅임
애니메이션 도중의 버벅임은 ```hideAllLabels()``` 로직으로 해결했다.
줌 애니메이션이 시작되기 전, 지도 위의 모든 라벨을 숨겨 빈 지도 상태에서 애니메이션을 실행한 결과, FPS가 15에서 140으로 비약적으로 상승했다.

### [2단계] 애니메이션 후 작업 실행 시점 문제
애니메이션은 충분히 부드러워졌고, '숨겨둔 라벨을 언제 다시 그릴 것인가' 에 대한 문제가 남았다.
- ```zoom_changed```는 애니메이션 중간에도 계속 발생하므로 정확한 '끝'을 잡을 수 없다.
- ```setTimeout(500)``` 같은 방식은 사용자 상호작용(드래그 등)마다 타이밍이 달라 정확하지 않다.

이때 idle 이벤트가 결정적인 역할을 한다.
idle은 확대, 축소, 이동 등 지도 움직임이 완전히 종료된 시점에 한 번 발생한다.
즉, 이제 그려도 된다는 확실한 신호를 주는 것이다.

```
kakao.maps.event.addListener(map, 'idle', () => {
  clearAllLabels();  // 이전 라벨 제거
  drawAllLabels();   // 새로운 라벨 렌더링
});
```

## 4. TIL
### 1) 자바스크립트는 싱글 스레드 언어이기 때문에 무거운 연산은 성능 저하로 이어진다.
### 2) ```zoom_changed```는 '과정 중'임을 알리고, idle은 '완료 후'임을 알린다.